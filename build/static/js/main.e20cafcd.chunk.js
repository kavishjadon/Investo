(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{69:function(e,a,t){e.exports=t(84)},84:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),s=t.n(i),c=t(20),l=t.n(c),o=t(35),m=t(41),u=t(124),p=t(125),d=t(126),f=t(85),E=t(127),g=t(132),v=t(128),h=t(134),b=t(123),x=t(56),y=t.n(x);function j(e){var a=e.message,t=e.setMessage;return r.a.createElement(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!!a,autoHideDuration:3e3,onClose:function(){return t(!1)},message:a,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return t(!1)}},r.a.createElement(y.a,{fontSize:"small"})))})}var O=t(26),w=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{height:e.spacing(6),margin:e.spacing(3,0,2)}}}));function N(e){var a=w(),t=Object(n.useRef)(),i=Object(n.useRef)();return r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(j,{message:e.message,setMessage:e.setMessage}),r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign In"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"outlined",inputRef:t,required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{inputRef:i,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(v.a,{type:"submit",fullWidth:!0,disableElevation:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault();var n={email:t.current.value,password:i.current.value};e.onSubmit(n)}},"Sign In"),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(O.b,{to:"/register"},"Don't have an account? Sign Up"))))))}var S=t(11),C=t(57),k=t.n(C),R=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{height:e.spacing(6),margin:e.spacing(3,0,2)}}}));function T(e){var a=R(),t=Object(n.useRef)(),i=Object(n.useRef)(),s=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(S.h)(),o=Object(S.g)();return r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(j,{message:e.message,setMessage:e.setMessage}),r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{inputRef:t,autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{inputRef:i,variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{inputRef:s,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{inputRef:c,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(v.a,{type:"submit",fullWidth:!0,disableElevation:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){a.preventDefault();var n={first_name:t.current.value,last_name:i.current.value,email:s.current.value,password:c.current.value,referred_by:k.a.parse(l.search.slice(1)).referral_code};o.push("/login"),e.onSubmit(n)}},"Sign Up"),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(O.b,{to:"/login"},"Already have an account? Sign in"))))))}var W=t(129),M=t(120),_=t(130),I=t(58),q=t.n(I),D=Object(u.a)((function(e){return{paper:{padding:20,display:"flex",flexDirection:"column"},form:{width:"100%",marginTop:e.spacing(3)},button:{height:55},submit:{margin:e.spacing(3,0,2)}}}));function A(e){var a=D(),t=Object(n.useRef)();return r.a.createElement(p.a,{component:"main",maxWidth:"sm"},r.a.createElement(j,{message:e.message,setMessage:e.setMessage}),r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(E.a,{container:!0,direction:"column",spacing:3,style:{marginTop:50}},r.a.createElement(E.a,{item:!0,container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h5"},"Welcome Back, ",e.user?e.user.first_name:""),r.a.createElement(W.a,{style:{marginTop:10}})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",className:a.paper},r.a.createElement(f.a,{variant:"h6"},"Invested"),r.a.createElement(f.a,{variant:"h4"},"\u20b9 ",e.user?e.user.amount_invested:""),r.a.createElement(f.a,{variant:"caption"},"Total money invested"))),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",className:a.paper},r.a.createElement(f.a,{variant:"h6"},"Earnings"),r.a.createElement(f.a,{variant:"h4"},"\u20b9 ",e.user?e.user.amount_earned:""),r.a.createElement(f.a,{variant:"caption"},"@ 2% per minute ",r.a.createElement("br",null))))),r.a.createElement(E.a,{item:!0,container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{inputRef:t,type:"Number",name:"Amount",variant:"outlined",required:!0,fullWidth:!0,label:"Amount",className:a.button})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(v.a,{fullWidth:!0,variant:"contained",disableElevation:!0,color:"primary",className:a.button,onClick:function(){var a=t.current.value;e.invest(a>0?a:0),t.current.value=""}},"Invest"))),r.a.createElement(E.a,{item:!0},r.a.createElement(v.a,{fullWidth:!0,variant:"outlined",disableElevation:!0,color:"primary",className:a.button,onClick:function(){var a="http://localhost:4000/register?referral_code=".concat(e.user._id);q()(a).then((function(){return e.setMessage("Link copied to clipboard")}))}},"Copy referral link")),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(_.a,{href:"#",variant:"body2",style:{paddingRight:15},onClick:function(){e.logOut()}},"Log Out"))))))}var J=t(131),P={position:"absolute",top:"50%",left:"50%"};var F=function(e){var a=Object(n.useState)(),t=Object(m.a)(a,2),i=t[0],s=t[1],c=Object(n.useState)(!1),u=Object(m.a)(c,2),p=u[0],d=u[1],f=Object(n.useState)(!0),E=Object(m.a)(f,2),g=E[0],v=E[1];Object(n.useEffect)((function(){fetch("/api/details/").then((function(e){return e.json()})).then((function(e){s(e.data),v(!1)}))}),[]);var h=function(){var e=Object(o.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("/api/register",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(a)});case 3:return t=e.sent,e.next=6,t.json();case 6:(t=e.sent).error?d(t.error):t.data&&d("Login with your new account"),s(!1),v(!1);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("/api/login",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return t=e.sent,e.next=6,t.json();case 6:(t=e.sent).error?d(t.error):s(t.data),v(!1);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("/api/logout",{credentials:"same-origin",method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:a=e.sent,s(a.data),v(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/invest",{credentials:"same-origin",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a})});case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,s(t.data),t.data&&d("Invested ".concat(a," rupees"));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(O.a,null,r.a.createElement(S.d,null,g?r.a.createElement(J.a,{style:P}):r.a.createElement("div",null,r.a.createElement(S.b,{path:"/login",exact:!0},!!i&&r.a.createElement(S.a,{to:"/"}),r.a.createElement(N,{message:p,setMessage:d,onSubmit:b})),r.a.createElement(S.b,{path:"/register",exact:!0},!!i&&r.a.createElement(S.a,{to:"/"}),r.a.createElement(T,{message:p,setMessage:d,onSubmit:h})),r.a.createElement(S.b,{path:"/",exact:!0},!i&&r.a.createElement(S.a,{to:"/login"}),r.a.createElement(A,{user:i,message:p,setMessage:d,invest:y,logOut:x})))))};s.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.e20cafcd.chunk.js.map